[book]
authors = ["Patrick Elsen"]
language = "en"
multilingual = false
src = "src"
title = "Rust Project Primer"

[rust]
edition = "2021"

[build]
create-missing = false
extra-watch-dirs = ["examples", "graphics"]

[preprocessor.reading]
command = "mdbook-reading"
before = ["admonish"]
archives = "/archived/"

[preprocessor.files]
command = "mdbook-files"
prefix = "examples"
after = ["mermaid"]

[preprocessor.mermaid]

[preprocessor.admonish]
command = "mdbook-admonish"
assets_version = "3.1.0" # do not edit: managed by `mdbook-admonish install`
after = ["links"]

[[preprocessor.admonish.custom]]
directive = "article"
icon = "./assets/material-newspaper.svg"
color = "#9991ea"

[[preprocessor.admonish.custom]]
directive = "book"
icon = "./assets/material-book.svg"
color = "#779cee"

[[preprocessor.admonish.custom]]
directive = "chapter"
icon = "./assets/material-book.svg"
color = "#779cee"

[output.html]
theme = "theme"
additional-css = ["assets/mdbook-files.css", "./assets/mdbook-admonish.css", "assets/mdbook-admonish-custom.css"]
additional-js = ["assets/mermaid.min.js", "assets/mermaid-init.js"]
git-repository-url = "https://github.com/rust-project-primer/book"
git-repository-icon = "fa-github"
mathjax-support = true

# redirects for moved pages
[output.html.redirect]
"/intro/prerequisites.html" = "/intro/resources.html"
"/build.html" = "/build-system/index.html"
"/build/cargo.html" = "/build-system/cargo.html"
"/checks/style.html" = "/checks/lints.html"
"/examples/github.html" = "/examples.html"
"/organization/crate-size.html" = "/organization/packages.html"
"/organization/crates.html" = "/organization/packages.html"
"/organization/features.html" = "/organization/crates.html#crate-features"
"/organization/library-first.html" = "/organization/crates.html"
"/organization/workspace-metadata.html" = "/organization/workspace.html"
"/reading.html" = "/intro/prerequisites.html"
"/releasing/flatpak.html" = "/releasing/packaging.html"
"/releasing/rpm.html" = "/releasing/packaging.html"
"/testing/undefined-behavior.html" = "/testing/dynamic-analysis.html"
"/tools/xtask.html" = "/tools/tasks.html"
"/platform/index.html" = "/ci/index.html"
"/platform/github.html" = "/ci/github.html"
"/platform/gitlab.html" = "/ci/gitlab.html"
